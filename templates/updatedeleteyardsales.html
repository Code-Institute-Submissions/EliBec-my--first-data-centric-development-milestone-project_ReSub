{% extends "base.html" %}
{% block content %}
    <div class="container">
        <div>    
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <h2 class="page-heading-title">Update/Delete Yard Sale</h2> 
                </div>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-12">
                <p>Search the yard sale you wish to update</p>
            </div>
        </div>  <!-- div -->    
        <div>
            <form id="search-form" action="/updatedelete_yardsales" method="POST">
                <div class="row"> 
                    <div class="col-lg-3 col-md-6 col-sm-12">
                            <label class="label" for="datesearch"> Search by date:</label>
                            <input type="date" id="datesearch" name="datesearch" >
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-12">
                            <label class="label" for="namesearch"> Search by Seller's Name:</label>
                            <input type="text" id="namesearch" name="namesearch" >
                    </div>  
                    <div class="col-lg-3 col-md-6 col-sm-12 btn-adj">
                            <button type="Submit" id="search-btn" class="btn btn-secondary">Search Yard Sales</button>
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-12 btn-adj">
                            <button type="button" id="clearsearch-btn" class="btn btn-secondary"> Clear Search</button>
                    </div>     
                </div>
            </form> 
        </div>
        <div class="row">
            {% for yard_sale in yardsales %}
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <p>Date: {{yard_sale.date}} - Time: {{yard_sale.time}} - City: {{yard_sale.city}}</p>
                    <p> {{yard_sale.seller_first_name}} {{yard_sale.seller_last_name}} </p> 
                    <p> {{yard_sale.seller_email}} </p>
                    {{ yard_sale.item_list|join(', ') }}
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6"> 
                        <div class="map" id="map_{{ yard_sale._id }}">
                            <iframe width="100%" height="200" frameborder="0" style="border:0"
                                    title="Map of {{ yard_sale.seller_first_name}}, {{ yard_sale.seller_last_name }}"
                                    src="https://www.google.com/maps/embed/v1/search?key={{ google_key }}&q={{ yard_sale.address_1 }}&center={{ yard_sale.lat }},{{ yard_sale.long }}&zoom=16">
                            </iframe>
                        </div>
                    <br>    
                </div> 
        </div>  
        <div class="row">
                <div>
                    <div class="col-lg-6 col-md-6 col-sm-12 btn-adj">
                        <button type="Submit" id="edit-btn" class="btn btn-secondary">Edit</button>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 btn-adj">
                            <button type="button" id="delete-btn" class="btn btn-secondary"> Delete</button>
                    </div>   
                </div>   
            {% endfor %}   
        </div>
    </div>    
{% endblock %}